<div fxLayout="column" fxLayoutAlign="top center">

  <mat-toolbar role="heading" color="primary" fxLayout="row" [class.offline]="! onlineService.online">

    <img id="logo" src="assets/OMT-Logo_White.png" fxShow fxHide.lt-md="true" alt="Ontario Ministry of Transportation">

    <div class="header-title" fxShow fxHide.lt-md>Ontario Ministry of Transportation</div>

    <div class="header-title" fxHide fxShow.lt-md>Ministry of Transportation</div>
    
    <!-- <div class="header-subtitle" fxHide.lt-sm>Self Service Portal</div> -->


    <div fxFlex></div>

    <div fxShow fxHide.lt-md>

      <button mat-button routerLink="/home" routerLinkActive="active">Home</button>

      <button mat-button routerLink="/registration" routerLinkActive="active">Vehicle Registration</button>
      
      <button mat-button (click)="goToDl()" routerLinkActive="active">Renew License</button>

      <button mat-button *ngIf="! loginService.currentUser" (click)="doLogin()">Login</button>

      <button mat-button *ngIf="loginService.currentUser" (click)="doLogout()">Logout</button>

    </div>

    <!-- <span *ngIf="loginService.currentUser" class="userName">{{loginService.currentUser.firstName}}</span> -->
    <div *ngIf="loginService.currentUser" class="userName" fxLayout="row" fxLayoutAlign="center center">
      <mat-icon>account_circle</mat-icon>
      <div>{{loginService.currentUser.firstName}}</div>
    </div>

    <button mat-icon-button fxHide fxShow.lt-md [matMenuTriggerFor]="menu" 
              aria-label="Example icon-button with a menu">
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item routerLink="/home" routerLinkActive="active">
        <mat-icon>home</mat-icon>
        <span>Home</span>
      </button>
      <button mat-menu-item routerLink="/license-eligibility" routerLinkActive="active">
        <mat-icon>directions_car</mat-icon>
        <span>Renew License</span>
      </button>
      <button mat-menu-item routerLink="/registration" routerLinkActive="active">
        <mat-icon>bar_chart</mat-icon>
        <span>Registrations</span>
      </button>
      <button mat-menu-item *ngIf="! loginService.currentUser" (click)="doLogin()" routerLinkActive="active">
        <mat-icon></mat-icon>
        <span>Login</span>
      </button>
      <button mat-menu-item *ngIf="loginService.currentUser" (click)="doLogout()" routerLinkActive="active">
        <mat-icon></mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>


  </mat-toolbar>

  <router-outlet></router-outlet>

</div>